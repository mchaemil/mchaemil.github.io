---
layout: article
title: Database/Data | NoSQL - MongoDB 란 무엇인가?
tags: NoSQL
comments: true

---

## **Today What I Learend**  

한국사회에서의 개발자 시장에 대해서 이야기 하나
SQL에 대한 리뷰 및 SQL이 NoSQL과 갖는 차이
MongoDB의 설치 과정에 대해서

MongoDB

개발자들이 MongoDB를 사용하는 이유는 
직관적인 데이터 모델 때문일 것이다. MongoDB는 정보를 행(row) 대신에 도큐먼트(document)에 저장한다. 

---
**Today I Learend**

- 준비단계
- SQL과의 비교
- 
- MongoDB 환경설정
- MongoDB 첫 번째 insert

---



### RDBMS와의 차이점

### RDBMS의 특징


relation => Entity (사용자와의 릴레이션이 아니라 ㅠㅠㅠ)
릴레이션과 릴레이션쉽과 혼동하면 안된다. 

SQL 

Adboe 쿼리...!

고급 사용자...!
최종사용자, end 유저들도 많이 활용한다. 

관계형 데이터 베이스는 정규화라는 과정을 거친다. 



게임도 결국 운영되기 위해서는 데이터가 필요하다
급여명세서를 구성하고 있는 
사번, 복리후생, 근퇴, 휴가일수, 기본급 등...!

> 모든 시스템에는 데이터베이스가 존재한다. 모습은 다르나 데이터베이스의 역할을 이해해야 데이터베이스를 만들 수 있다. 

RDBMS는 한 행(row)이라는 레코드 정보를 근간으로 해서 
데이터 구조를 만들고
한 행에는 여러개의 컬럼, 필드(각종 제약 정보를 정의한 것, 데이터 타입, 길이, 동일한 제약 조건, 이러한 여러개의 컬럼으로 구성되고 있는 로우를 가지고 프라이머리키를 만든다.)

프라이머리키로 적당한 컬럼은 not null, unique 여야하는 조건을 가지고 있다. 



변경가능성으로 인해 프라이머리키의 설정가능성이 있다. 
그러므로 이러한 데이터에는 pk를 하지 않는다. 


실제로 20년 전에는 PK를 주민등록번호로 사용한 경우도 있었지만 거의 쓰이지 않는다. 주민등록 번호는 완벽하지 않다.


#### 주민등록번호, 사번, 휴대폰번호, 이메일


PK는 행을 구분한다.

RDBMS에서 종속성을 익히게 되면
Y -> X 처럼 기술할 수 있게 된다. 

Y키 X값
함수적 종속성(functional Dependency) 
관계형 데이터베이스에서는 수학의 관계 대수에서 만들어졌다.

함수 종속성의 문제가 발생하지 않아야 한다. 

Y에 의해서 X가 결정된다.

주문 -< 주문 내역
1:N
관계 내역이 만들어진다.
중복을 제거하는 분해가 연속적으로 일어난다. 

2nd NF
3rd NF
최소한 써드 노멀폼까지 가도록...!
보이스코드 노멀폼전까지 보통 분해를 한다.

처음에 한 덩어리였던 것을 써드 노멀폼까지 분해하는 과정을 거친다...!!
보이스 코드나 써드 노멀폼 까지 분해를 한다. 
분해를 해서 가면 데이터의 중복이 없어진다.

> 데이터의 품질을 저해하는 가장 큰 원인이 데이터의 중복이다. 중복은 일관성의 문제를 일으킨다. 

> 프라이머리키는 데이터를 연결하는데 사용된다. 즉, 조인하기 위해서는 PK가 필요하다. 이러한 이유에서 관계형 데이터베이스에 조인이 없다는 건 모델을 잘못만들었다는 걸 뜻한다. 





#### 컬럼 간의 같은 값을 연결하는 게 조인이다. 
가령, 12억명을 출생지별로 묶는 조인을 해야 할 때 큰 비용이  발생하는 건 자명한 사실이다. 

이렇게 같은 사람끼리 묶는 조인을 해야 한다면 
FK를 만들 때는 `CREATE INDEX` 를 해야 한다

데이터를 다 뒤져보는 행위를 Full Scan이라고 하는 데, Full Scan 을 통해서 원하는 값을 찾는 건 데이터가 커질수록 비용이 많이 든다.

데이터가 클수록 인덱스가 있는 구조와 없는 구조는 데이터를 찾늗 데 있어서 비용이 하늘과 땅 차이로 벌어진다.


인덱스라는 매커니즘을 이해하지 못하고 코드를 작성하지 못하면
쿼리문은 쓰레기가 된다. 즉, 어떤 쿼리를 입력했을 때 6초 뒤에나 가져오는 경우라면...


#### index!!
비교우위에 서려면 인덱스를 활용할 수 있는 능력이 중요하다
질문을 몇개해보면
DB를 다루어봤는지 아닌지 알 수 있다.

인덱스에 관한 질문에 대해서 준비를 해야 한다.

#### JOIN
EQ 조인
PK와 FK를 활용해서 연결하는 게 조인이다.

Foreign Key에 인덱스가 안 걸려 있다면

> 관게형 데이터베이스는 조인을 안하는 경우가 없다
데이터를 보기 위해서는 데이터를 다 보아야 한다.


#### 주문서 데이터를 분리하는 게 노말라이제이션




#### 트랜잭션..

쪼개지면... 탈이 난다.
가령, 이체를 한 경우
예금과 인출


#### 롤백이라는 용어를 알았다면 트랜잭션을 이해했다는 것
ROllBACK은 트랜잭션을 뒤로 돌리는 것이다.
DML을 사용하기 이전의 행위로 돌리는 것을 ROLLBACK이다. 

데이터의 일관성의 문제가 발생했을 때 ROLLBACK을 한다. 


#### 데이터의 일관성
원래 상태로 돌려놓는 매커니즘이 트랜잭션이다...
이러한 트랜잭션의 관리가 매우 중요한데


#### 장바구니를 분석해야 해서 디비에 넣는다.


현업에서는 오토 커밋을 쓰지 않는다.
오토커밋은 DML을 입력하면 바로 데이터가 들어가는 것을 일컫는다.


복수의 값을 갖는 경우에는 노말라이제이션을 했는데
문서의 경우에는 그냥 집어넣을 수 있다. 


관계형 데이터베이스를 쓰는 경우에는 조인을 안 해도 된다. 



모델을 설계할 때 분리해야 한다.


네프 구조를 만들어서 쓸 수 있다. 



### 가장 큰 차이
관계형 데이터 베이스는 다대다가 안되지만
NoSQL은 다대다가 된다. 

관계형 데이터 베이스는 거쳐야 한다. 
가운데 테이블 하나가 껴야 하는데, 이 녀석을 
어소세이티브 Entity 라고 한다. 연관 엔티티...! 




### 사전 정의가 없다.

이것에 대한 묶음을 collection 
스키마가 없다보니 제약이 없다.


서로 다른 구조의 키를 가지고 있어도 문제가 없다.

보통 일반적으로 쓸 떄 다 다

개발할 때 더 편하다.
그래서 상당히 빠르게 개발할 수 있다는 장점이 있다. 
스키마가 없음으로 인해 너무 자유롭다.
통제가 잘 안된다.




콜렉션은 도큐멘트의 묶음 
함수를 넘겨줄 때 제이슨 형식의 정보를 넘겨준다.
컴마로 구성되어 있으면 and





#### 인덱스를 쓰는 이유
인덱스는 데이터가 많을 때 경제성이 뛰어나다.
인덱스의 구조는 B-트리이다. 



#### Scale Up VS Scale Down 

스케일 아웃을 했을 때는
Sharding 샤딩이 필요하다
데이터를 내가 인서트를 합니다. 

분산데이터베이스를 구현할 때 사용하는 방법
그래야 옆으로 계속 확장할 수 있다. 

Shard1, Shard2, Shard3


몽고디비는 스케일 아웃하기에 좋은 구조를 가지고 있다. 

문서의 구조가 내포형이라면 
문서형 데이터베이스를 쓰는 게 좋다.
관계형 DB보다 훨씬 큰 특징을 지니고 있다. 


#### 서버 환경이 대부분이 리눅스이다..
...! 그래서 리눅스를 쓰는 것을 추천한다.


환경변수 설정하기 
설정 후에는...! 프롬프트를 재시작해야 한다.
mongod.exe 실행 후 
mongo.exe  실행하기 그러면 > 가 뜸


최초 다큐멘트가 콜렉션에 저장이 되면...!
최초의 다큐멘트가 만들어지면 그 때
만들어진다.! 

기본적으로 필요한 시스템 데이터베이스이다. 



#### 맴캐시디..!

맴캐시디가 Reddis로 대체되는 경향이 크다. 
아주 간단한 키와 벨류로 저장하는 데이터베이스다

**맴캐시디**
구조가 키와 값 구조로만 되어있다.
키만 알면 값을 꺼낼 수 있는 구조이다. 

맴: 메모리
캐쉬: 읽기 속도를 높이기 위해서 사용하는 매커니즘 
디: 저장장치


메모리 데이터베이스로 사용하는 것을 말한다. 
메모리에 올리면 빠르니까...!

리악은 팔로잉, 팔로워할 떄 주로 쓰인다.
리악은 그래프 데이터베이스이다.


 Column Based 스토리지 
 

관계형 데이터베이스는 행기반인데 반해
Column Based 스토리지는 컬럼 기반으로 저장한다.

대용량 데이터 처리를 할 때 카산드라를 주로 사용한다.
컬럼별로 정렬되어 있을 때...!, 

주로 수직적인 확장을 하는데 유리하다. 
마이에스큐엘은 

다큐먼트 구조느 내포구조
문서를 표현하는 구조는 JSON
그리고 JSON에 익숙해지면서
자바스크립트의 객체 접근법을 가지고 데이터에 접근해야 한다. 

내가 필요한 데이터, 즉 내포구조를 가지고 있으므로 
조인을 안 해도 된다.

조인을 안 하고도 원하는 결과를 얻을 수  있다.

100% 조인을 안하는 결과를 얻을 수 있는가?
그것은 아니다!!

참조에 대한 매커니즘을 문서참조라고 해서 들어갈 수 있다. 
정규화되어 있는 관계형 모델보다는
조인 연산이 줄어드는 부분은 분명하다.


NoSQL의 경우 트랜잭션을 지원하지 않는 경우가 있는데
몽고디비는 지원을 한다
만약 디비에서 지원을 안 해준다면
애플리케이션 차원에서 그 기능을 만들어야 한다. 


데이터 베이스는 키와 값으로 구성이 된다!!
그래서...! 


predicate


--------------


이쪽 업계에서는 어떤 사람들이 필요한가?

자기 객관화가 안되면 무엇을 가지고 있는지 모른다. 
스스로가 무엇을 가지고 있는지 다시 한 번 점검해보는 시간을 가지면 좋을 것 같다. 


통계는 응용수학 -> 현실세계와 밀접한 연관을 가지게 된다.
통계는 사회과학을 평가하는데 쓰이는 도구이다. 

### 통계는 비교학문이다.
통계는 집단과 집단을 비교하는 학문이다. 
이를 위한 이론이 집대성되어 있다. 
비교를 통해 선택하는 데 도움을 얻기 위해서


+,- , 오차범위(신뢰구간) 안에서 경쟁을 하고 있다. 
위와 같은 용어는 전부다 통계 용어이다.



기술통게 - 어떤 특성을 묘사하는 통계, 평균, 표준 편차와 같은 것들
        - 어떠한 특성을 이해하는 근거
        - 

**추론통계** - 표본을 잘 꺼내지 않으면 추론에 문제가 생긴다. 
        - 가설을 정의하고 검정한다. 
        - 이후에 여러가지 분석을 진행한다. 
        - 분석 이후에 예측이 가능하다. 
        - 


과거의 특징을 규명하는데 초점이 맞추어져 있다. 
전통적인 통계는 과거에 대한 분석이 주를 이루고 있다. 

과거의 통계를 분석해서 모델을 만들어내고
이를 통해 예측을 한다. 


범용 인공지능
IBM의 왓슨, 일본에서 활약하고 있다.
일본은 고령화 문제가 심각하다. 사람이 사는 것 같지 않은 마을이 있는데
여기서 액티브하게 돌아다니는 로봇이 페퍼인데, 이것의 뇌를 담당하는 게 왓슨이다.

이를 위해 인간의 언어를 마스터해야 한다. 
전공 영역은 자연어 처리이다. 

암진단의 영역에서도 왓슨은 역할을 하고 있다. - 차병원의 사례

여기서 큰 활약을 하고 있다...! 


#### 인보사 사건도 중요한 오류이다. 추론통계에 대한 오류를 일으켰다. 


최근에 통계가 무너진 순간 - 트럼프의 당선

미국의 빅3 통계기관이 오차범위 바깥에서 힐러리가 이길 것이라 판단했지만
트럼프가 승리
미국의 칼텍공대에서 만든 빅데이터 예측 결과만이 트럼프의 승리를 예측


#### 또 한 번 결국, 통계가 아니라 인공지능이구나.. 라고 많은 사람들이 느끼게 됨

머신러닝, 딥러닝은 그저 학습, 그리고 학습에 의해
가중치가 변경되고, 모델을 만들게 되면 그것을 통해서 예측!

#### 수학력, 통계력...

어떤 사람의 수학력, 통계력을 평가하기 위해 사용되는 용어...
별도로 준비해야 하는 영역...

문제를 해결할 때
자료구조, 알고리즘 

알고리즘은 두 가지로 귀결된다.
#### 1. 정렬 - 데이터를 어떻게 정렬할 것인가? 

재귀를 이용한 알고리즘으로는 대표적으로 퀵소트가 있다.

재귀를 당신이 알고 있는 알고리즘으로 구현해보아라!





#### 2. 탐색 - 데이터를 어떻게 탐색할 것인가? 
탐색에서 사용할 알고리즘

탐색과 관련된 알고리즘을 내가 가지고 있는 
언어로 구현해보기

파이썬은 기본적으로 배열을 제공하지 않는다.
다 기본적으로는 넘파이라는 서브파티 모듈을 설치해서

판다스, 스텝모들? 사이킥 런 등은
모두 Numpy를 기반으로 하고 있는다.


##### 각각에서 사용할 알고리즘의 특성을 이해해야 된다.


#### 중요한 것은 기초이다.
어느 세월에... 
그 많은 수학을 다 공부하나...

기본은 선형대수이다. 
데이터를 죄표 공간에다가 표현해야 한다.

데이터가 어떤 분포를 가지고 있나ㅡㄹㄹ 보기위해 산포도를 보는데,
어떤 위치에 점ㅇ을 찍어야 하나와 같은 방법을 배워야 한다.

범주형 데이터를 수치형데이터로 변환하여 점을 찍는 방법
선형대수라는 것을 공부해야 한다.

벡터와 벡터의 각.. 각 나오면 삼각함수가 따라온다.!

통계하면 항상 따라오는 것은...! **확률분포!**
확률에 대해서 계산하지 못하면 안된다!!


분포와 관련되어 있는 영역을 공부해야 한다.



#### 챙겨가야 하는 것, 여기까지가 가장 기본, 수학의 가장 기본이다.
- 선형대수
- 확률/분포
- 미분(편미분)

편미분, 변수에 대해서 가중치르르 주기 위해서 사용된다.

문제의 본질을 이해하지 못한채로 도구만 사용하게 된다. 
신입을 뽑을 때는 도구를 사용하는 사람이 아니라 
기초체력이 좋은 사람을 뽑으려는 이유이다.

이러한 영역에 대한 투자가 요구되는 이유이다. 


## 두 번째

크게 취업시장은 신입과 경력으로 나누어진다.
수학력과 통계력을 확보해야 한다. 

경력은 당장 투입할 수 있는 능력...!
경력으로 인정받기 위해선 만 2년 이상 일을 해야 한다.

#### 기회가 된다면 하루빨리라도 적을 두어야 한다.
예전처럼 몇천명 뽑는 시대는 없다.
한국의 IT시장은 경력 위주로 돌아가므로 
하루라도 빨리 회사라는 울타리 안으로 들어가야 한다. 


### 연대기

#### 2006 ~ 2007
Big Data 하면 생각나는 것?

더그 커팅이라는 사람이 
구글 파일 시스템을 카피해서 오픈 소스로 만들어서 내놓은 것!
Hadoop 0.1 버전을 발표해놓음

Hadoop 이라는 인프라 소프트웨어를 개발함! 

Hadoop 
HDFS

하나의 파일이 테라바이트가 
물리적인 하드디스크 하나 이상을 갖는 파일의 크기 
1테라 바이트급 데이터는 어마어마하다..! 


#### 2009
아이폰을 통해서 모바일 시대 돌입


#### 2014, Mobile First and AI

스택카운트라는 회사에서 
피씨의 트래픽량과 모바일의 트래픽량이 역전된다고 발표를 함
이 때부터 **모바일 퍼스트**라는 전략을 발표를 함  

모바일 먼저 개발하고, 웹을 개발하는 방향으로 감
더 큰 고객이 있는 쪽으로 우선 순위를 둠

그리고 이와 더불어서 
인공지능이 서서히 등장하게 됨
일반인은 아니더라도
방향은 이쪽으로 가게 된다는 것을 많은 사람들이 느끼게 됨



#### Now! 로 2014에서 가기 위한 과정의 이야기

##### 2016년도..! 
알파고가 이세돌을 이기면서 
공포라는 것을 느끼기도 함..! 
일반 사람들 입장에서는 그래도 이세돌이 이기겠지라는 막연한 사람들의 
생각을 깨부숨...!

이세돌은 3천대의 서버와 맞서싸움...!
2007년 대선에서 빅데이터가 어떻게 활용되었는지 풀어놓은 책, <빅데이터 승리의 과학>

##### AWS 가 등잘하게 된 배경
캘리포니아에서는 리스 산업이 성행하고 있었다.
실리콘밸리에 있는 수많은 스타트업에게 아마존의 자원을 빌려주던 것을 체계화시켜서
시작된 게 AWS이다. 이를 기점으로 아마존에서 분산되었다.
2007년도에 이 시장을 거의 장악하게 됨
그리고 미국 대선의 민주당을 지원해줌.
기계가 리스를 할 때에는 비용이 발생했는데, 
클라우드를 사용하게 되면서 몇번의 클릭만으로 비용의 문제르 해결할 수 있게 되었다. !!


#### 아직은 메인스트림에 못들어와 있다. IOT

##### IOT
두 영역이 표준을 만들어야 시장이 폭발적으로 성장한다.

더 좋은 기술이어도 시장이 선택을 해버리면 좋은 기술도 사장이 되버린다. 
좋은 기술은 무엇이냐는 입장에 따라 다르다/

시장은 범용적이고, 경제성이 있어야 한다.
시장이 선택한 것이 결국은 가장 좋다...
시장이 작다면 존립하기 어려울 수 있다. 

스마트홈 같은 경우 백명 물어보면 한 두명 밖에 안 나오는 시장이다. 

아이오티에서 가장 중요한 기술은 센서이다. 
70~80퍼센트를 차지한다. 


지능형 시스템은 인프라 서비스와 연괸관계 깊다. 


##### 사용자는 편리함을 추구하기 때문에 결국 기술은 사용자를 편리하게 해줄 수 있는 방향으로 발전할 수 밖에 없다.

인공지능은 100미터 밖에서도 사람인지, 마네킹인지 구분할 수 있다.  
페이크 픽... 인공지능이라고 말하지 않았으면 
사람들은 다 믿었을 것이다. = GAN 기술...! 

기본적인 데이터만 있으면 조작이 가능하다. 





- **통신, 통신업계**





- **제조사, 삼성 같은 곳**






#### 모델에 대한 이해를 위해, 수학력과 통계력이 필요하다.

예시)어떤 사람한테 추천해주어야 하는지 알고 싶다면?
마케팅을 위한 조사가 된다. 포지셔닝을 정확하게 할 수 있는..! 

이 사람들에게 파이썬 공부해서 데이터를 넣으라고 하면 욕머금ㅋㅋ

앞으로 나오는 대부분의 소프트웨어는 대부분 인공지능이 내장되어 있다. 

앞으로는 비서서비스가 좋게라


음성인식과 관련된 앙상블이라는 회사와
시리 오픈 해서 얻은 데이터가 게임이 안된다.
단숨에 전세계 인종별, 성별 등을 카테고리할 수 있는
데이터를 확보했다.
테스트 데이터를 


사람들이 애플한테 낚였다. 
그렇지만 애플은 테스트 데이터를 확보



#### 인터페이스의 발전사
CUI - GUI - VUI - HUI(홀로그램) 

홀로그램은 카라얀이 공연가능한 수준..!!



#### 미래에 대한 상상

내가 오늘 무슨 일을 할 건데라고 이야기를 하면
인공비능 비서가 내가 할 업무에 대해 가이드를 진행해준다. 

직업 자체가 많이 없어진다. 
새로운 직업자체가 양산된다. 

여담) 교수가 10년내에 없어질 직업 3위...
어떤 주제로 글을 쓰는 대해 대한 가이드를 준다.

교수들으 위상이 떨어진 이유는 구글 때문이다.

요즘은 학생들이 보도 듯도 못한 논문을 가지고 온다.
옛날에는 정보의 접근권한을 학생들이 더 많이 가지고 있다. 
모르면 아는체 할 수가 없어서 모른다고 해야만 한다. 환경이 바뀌었기 때문..!

전문 지식에 대한 전달은 인공지능이 더 잘할 수 있음
시퀀스를 주면 알아서 만들어낸다..

속보 단신은 인공지능이 다 쓴다. 








### Competency
- K nowledge
- S kills 
- A


NCS 라고 하는 국가표준역량 체계
과거 2005년부터 10년간...!
재계에는 컨실팅을 많이 받아었다.

비전을 설정하고 사업계획의 목표를 달성하기 위해 
사업계획을 세우고, 조직 개편을 끊잉없이 한다.


사업은 결국 사람이 하는데, 이 사업을 누구한테 맡기고, 사업을 수행할 사람은
누구에게 맡길 것인가에 대해서 투자가 많이 일어난다. 

조직개편을 하다보면 꼭지점이 생긴다. 
누군가를 앉히게 되는데 
HPI (하이퍼포먼스 인디비쥬얼), 즉 임원
임원들이 가지고 있는 공통의 특징(1%)에 대해서 
규정해놓은 게 Competency, 즉 역량이라고 한다. 

그 회사의 가장 베스트한 임원..! 
가장 베스트한 임원이 리더가 된다. 
그리고 그의 행적을 토대로 인재상을 만들어놓는다. 


강점을 키우거나, 약점을 보완하는 전략을 취할 수 있는데,
강점을 부각해서 키워야 ..! 회사 입장에서는 이득

강점을 더욱 강하게...

#### 회사를 가고 싶다면 해야 할 작업
즉.. 
가고 싶은 회사를 명확히 파악 해야 한다. 
수단과 방법을 가리지 말고 명확히
파악해야 한다.

내가 가고자 하는 회사의 정보를..!

비전, 인재상, 전략 
다 나와 있고..!

그 다음 
내가 접근할 수 있는 사람이 누가 있는지 파악해야 한다.
그다음 유리한 게임을 해야 한다. 

정보를 얻지 못하고 불리한 게임을 하면 
확률적으로 불리한 게임을 하게 된다. 

관련된 직무에 대한 이해
어떠한 자료구조, 알고리즘을 구현할 것인지
즉, 정렬과 탐색...! 파이썬을 배웠으면 파이썬으로 구현...! 


#### 데이터 사이언스 직군...! 

이 과정은 DS이다. 
수학력/통계력





DB: SQL, NoSQL
LANG: python, js, R
WEB: SPA 아키텍쳐를 구현하기 위해서 Vue.js


Vue.js 는 최근에 큰 이슈가 많아서 뜨게 되었다.
React 가 시장을 리딩한다. 



저렇게 묶으면 시장에 먹혀들어갈 수 있는 것...!이 
우리 과정이다. 
둘을 비교했을 때
뭐가 더 특징이 있느냐 

DS로 경쟁하기 어려우므로
WEB이 경쟁력이 된다. 

이제 이러한 것을 확보한 후에 
DS 로 옮겨가야 한다.



2016년쯤이었는데, 겨울방학...
T아카데미에서 강의의뢰가 와서.. 전했던 이야기 
메인도메인을 웹개발에 두고 
카카오 인공지능팀으로 옮겨갔다. 
들어갈 때 포트폴리오를 보여줬다. 
회사 들어갈 때 보여준 게 각종 경진대회...!


이러한 전략을 잘 세울 필요가 있다. 
어디에다가 포커스를 두어야 하는지 ...!

그리고 기초체력을 안 다져놓으면 나중에 게임이 안된다.




